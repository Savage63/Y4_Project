import javax.swing.Box;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.FontMetrics;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;

public class Results extends JFrame {

    private static final long serialVersionUID = 1L;

    private JButton button1, button2, button3, button4, button5;
    private JPanel mainPanel;
    private JTextArea textArea;

    public Results() {
        super("Results");

        // Create buttons
        button1 = new JButton("Home");
        button2 = new JButton("Scan");
        button3 = new JButton("Results");
        button4 = new JButton("Users");
        button5 = new JButton("Contacts");

        // Set fixed size for all buttons
        FontMetrics fontMetrics = button1.getFontMetrics(button1.getFont());
        int maxWidth = Math.max(
            fontMetrics.stringWidth(button1.getText()),
            Math.max(
                fontMetrics.stringWidth(button2.getText()),
                fontMetrics.stringWidth(button3.getText())
            )
        );
        
        Dimension buttonSize = new Dimension(maxWidth + 20, button1.getPreferredSize().height); // Add padding to button width
        button1.setPreferredSize(buttonSize);
        button2.setPreferredSize(new Dimension(50, 20));

        // Add action listeners to buttons
        button1.addActionListener(new ActionListener() 
        {
        	// Set action listener for button1 to refresh the page if clicked
            public void actionPerformed(ActionEvent e) 
            {
                dispose(); // Dispose the current frame
                new HomePage(); // Create a new instance of Home Page
            }
        });
        
        
        button2.addActionListener(new ActionListener() 
        {
        	// Set action listener for button2 to refresh the page if clicked
            public void actionPerformed(ActionEvent e) 
            {
                dispose(); // Dispose the current frame
                new Scan1(); // Create a new instance of Scan Page
            }
        });
        
        button3.addActionListener(new ActionListener() 
        {
        	// Set action listener for button2 to refresh the page if clicked
            public void actionPerformed(ActionEvent e) 
            {
                dispose(); // Dispose the current frame
                new Results(); // Create a new instance of Scan Page
            }
        });
        
        button4.addActionListener(new ActionListener() 
        {
        	// Set action listener for button4 to refresh the page if clicked
            public void actionPerformed(ActionEvent e) 
            {
                dispose(); // Dispose the current frame
                new Users(); // Create a new instance of User Page
            }
        });

        
        button5.addActionListener(new ActionListener() 
        {
        	// Set action listener for button5 to refresh the page if clicked
            public void actionPerformed(ActionEvent e) 
            {
                dispose(); // Dispose the current frame
                new Contact(); // Create a new instance of Contact Page
            }
        });

        // Create left panel with buttons
        JPanel leftPanel = new JPanel();
        leftPanel.setLayout(new BoxLayout(leftPanel, BoxLayout.Y_AXIS));
        leftPanel.setPreferredSize(new Dimension(100, 0)); // Set preferred width of left panel
        leftPanel.add(button1);
        leftPanel.add(Box.createRigidArea(new Dimension(0, 10))); // Add vertical space between buttons
        leftPanel.add(button2);
        leftPanel.add(Box.createRigidArea(new Dimension(0, 10))); // Add vertical space between buttons
        leftPanel.add(button3);
        leftPanel.add(Box.createRigidArea(new Dimension(0, 10))); // Add vertical space between buttons
        leftPanel.add(button4);
        leftPanel.add(Box.createVerticalStrut(130)); // Add vertical space between button5 and button3
        leftPanel.add(button5);

        // Create main panel with text area
        mainPanel = new JPanel(new BorderLayout());
        textArea = new JTextArea(20, 56);
        textArea.setWrapStyleWord(true);
        textArea.setEditable(false);
        JScrollPane scrollPane = new JScrollPane(textArea);
        mainPanel.add(scrollPane);

        // Add left and main panels to frame
        getContentPane().add(leftPanel, BorderLayout.WEST);
        getContentPane().add(mainPanel, BorderLayout.CENTER);

        // Call displayText() to set the initial text in the text area
        displayResults();

        // Set frame properties
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        pack();
        setVisible(true);
    
        // Set frame properties
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        pack();
        setVisible(true);
    }

    
    

    private void displayResults() {
        String fileName = "nmap_output.txt";
        Path filePath = Paths.get(fileName);
        if (Files.exists(filePath)) {
            try {
                String results = new String(Files.readAllBytes(filePath));
                textArea.setText(results);
            } catch (IOException e) {
                e.printStackTrace();
            }
        } else {
            textArea.setText("No scan results found, Please Do a Scan.");
        }
    }



    
    public static void main(String[] args) 
    {
        new Results();
    }

}
